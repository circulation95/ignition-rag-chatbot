{
  "custom": {},
  "params": {},
  "props": {
    "defaultSize": {
      "height": 799,
      "width": 270
    }
  },
  "root": {
    "children": [
      {
        "meta": {
          "name": "Input"
        },
        "position": {
          "basis": "40px"
        },
        "props": {
          "path": "Input",
          "style": {
            "marginBottom": 20
          }
        },
        "type": "ia.display.view"
      },
      {
        "meta": {
          "name": "FlexRepeater"
        },
        "position": {
          "basis": "320px",
          "grow": 1
        },
        "props": {
          "direction": "column",
          "elementPosition": {
            "basis": "auto",
            "grow": 0
          },
          "instances": [
            {
              "msg": "냉동기",
              "role": "Human"
            },
            {
              "msg": "냉동기는 다양한 유형이 있으며, 예를 들어 기계식 냉동기와 수냉식 터보 냉동기가 있습니다. 기계식 냉동기는 124,000 kcal/h (40RT)의 냉각열량을 가진 것이 있고, 수냉식 터보 냉동기는 120–3950 Tons, 50 and 60 Hz의 용량을 가집니다.",
              "role": "Assistant"
            }
          ],
          "path": "Message",
          "useDefaultViewHeight": false,
          "useDefaultViewWidth": false
        },
        "type": "ia.display.flex-repeater"
      },
      {
        "events": {
          "dom": {
            "onClick": {
              "config": {
                "script": "\tself.getSibling(\"FlexRepeater\").props.instances \u003d []"
              },
              "scope": "G",
              "type": "script"
            }
          }
        },
        "meta": {
          "name": "Button"
        },
        "position": {
          "basis": "34px"
        },
        "props": {
          "style": {
            "marginLeft": 40,
            "marginRight": 40
          },
          "text": "Clear"
        },
        "type": "ia.input.button"
      }
    ],
    "meta": {
      "name": "root"
    },
    "props": {
      "direction": "column",
      "style": {
        "paddingBottom": 10,
        "paddingTop": 10
      }
    },
    "scripts": {
      "customMethods": [],
      "extensionFunctions": null,
      "messageHandlers": [
        {
          "messageType": "request",
          "pageScope": true,
          "script": "\tmessage \u003d unicode(payload[\"query\"])\n\tpayload \u003d {\n\t    \"question\": message \n\t}\n\tjson_str \u003d system.util.jsonEncode(payload)\n\turl \u003d \"http://localhost:8000/ask\"\n\t\n\ttry:\n\t    new_message \u003d {\n\t\t  \"msg\": message,\n\t\t  \"role\": \"Human\"\n\t\t}\n\t    self.getChild(\"FlexRepeater\").props.instances.append(new_message)\n\t    \n\t    response_body \u003d system.net.httpPost(url, \"application/json\", json_str, 10000, 60000)\n\t    ai_message \u003d system.util.jsonDecode(response_body)\n\t    \n\t    new_message \u003d {\n\t\t  \"msg\": unicode(ai_message.get(\"answer\")),\n\t\t  \"role\": \"Assistant\"\n\t\t}\n\t    self.getChild(\"FlexRepeater\").props.instances.append(new_message)\n\t    \n\t    \n\texcept Exception as e:\n\t    print(e)",
          "sessionScope": false,
          "viewScope": false
        }
      ]
    },
    "type": "ia.container.flex"
  }
}